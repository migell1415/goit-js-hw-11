{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '23963114-6d0d5d874ae460d9125bacd21';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport default class PixabayApi {\n  constructor() {\n    this.query = '';\n    this.page = 1;\n  }\n\n  async fetchPhoto() {\n    const response = await axios.get(\n      `${BASE_URL}?key=${API_KEY}&q=${this.query}&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=12`\n    );\n    return response.data;\n  }\n\n  reset() {\n    this.page = 1;\n  }\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function onRenderGallery(images, container) {\n  const markup = images.map(image => createGalleryItem(image)).join('');\n  container.insertAdjacentHTML('beforeend', markup);\n\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a');\n  }\n}\n\nfunction createGalleryItem(image) {\n  return `\n    <a href=\"${image.largeImageURL}\" class=\"image-card\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p class=\"info_p\">\n          <span class=\"label\">Likes:</span>\n          <span class=\"value\">${image.likes}</span>\n        </p>\n        <p class=\"info_p\">\n          <span class=\"label\">Views:</span>\n          <span class=\"value\">${image.views}</span>\n        </p>\n        <p class=\"info_p\">\n          <span class=\"label\">Comments:</span>\n          <span class=\"value\">${image.comments}</span>\n        </p>\n        <p class=\"info_p\">\n          <span class=\"label\">Downloads:</span>\n          <span class=\"value\">${image.downloads}</span>\n        </p>\n      </div>\n    </a>\n  `;\n}","import './css/styles.css';\nimport PixabayApi from './js/pixabay-api';\nimport { onRenderGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nconst refs = {\n  searchform: document.querySelector('.form'),\n  galleryContainer: document.querySelector('.gallery'),\n  loader: document.createElement('div'),\n};\n\nrefs.loader.className = 'loader';\ndocument.body.appendChild(refs.loader);\n\nconst pixabayApi = new PixabayApi();\n\nrefs.searchform.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.query.value.trim();\n  if (!query) {\n    return showToast('red', 'Please, fill the main field', 'topRight'); // Якщо запит порожній, з'являється повідомлення про необхідність заповнити поле, і функція завершується.\n  }\n\n  showLoader();\n  refs.galleryContainer.innerHTML = '';\n  pixabayApi.query = query;\n\n  pixabayApi\n    .fetchPhoto()\n    .then(data => {\n      if (data.hits.length === 0) {\n        showToast(\n          'red',\n          'Sorry, there are no images matching your search query. Please try again!',\n          'topRight'\n        );\n      } else {\n        onRenderGallery(data.hits, refs.galleryContainer);\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      showToast(\n        'red',\n        'An error occurred while fetching images. Please try again later.',\n        'topRight'\n      );\n    })\n    .finally(() => {\n      hideLoader();\n      refs.searchform.reset();\n    });\n\n  pixabayApi.reset();\n}\n\nfunction showToast(color, message) {\n  iziToast.show({\n    color: color,\n    message: message,\n    position: 'topRight',\n  });\n}\n\nfunction showLoader() {\n  refs.loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  refs.loader.style.display = 'none';\n}"],"names":["API_KEY","BASE_URL","PixabayApi","axios","lightbox","onRenderGallery","images","container","markup","image","createGalleryItem","SimpleLightbox","refs","pixabayApi","onSearch","event","query","showToast","showLoader","data","error","hideLoader","color","message","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEF,MAAMC,CAAW,CAC9B,aAAc,CACZ,KAAK,MAAQ,GACb,KAAK,KAAO,CACb,CAED,MAAM,YAAa,CAIjB,OAHiB,MAAMC,EAAM,IAC3B,GAAGF,CAAQ,QAAQD,CAAO,MAAM,KAAK,KAAK,iEAAiE,KAAK,IAAI,cAC1H,GACoB,IACjB,CAED,OAAQ,CACN,KAAK,KAAO,CACb,CACH,CClBA,IAAII,EAEG,SAASC,EAAgBC,EAAQC,EAAW,CACjD,MAAMC,EAASF,EAAO,IAAIG,GAASC,EAAkBD,CAAK,CAAC,EAAE,KAAK,EAAE,EACpEF,EAAU,mBAAmB,YAAaC,CAAM,EAE5CJ,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIO,EAAe,YAAY,CAE9C,CAEA,SAASD,EAAkBD,EAAO,CAChC,MAAO;AAAA,eACMA,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,gCAIxBA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,gCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAK/C,CCjCA,MAAMG,EAAO,CACX,WAAY,SAAS,cAAc,OAAO,EAC1C,iBAAkB,SAAS,cAAc,UAAU,EACnD,OAAQ,SAAS,cAAc,KAAK,CACtC,EAEAA,EAAK,OAAO,UAAY,SACxB,SAAS,KAAK,YAAYA,EAAK,MAAM,EAErC,MAAMC,EAAa,IAAIX,EAEvBU,EAAK,WAAW,iBAAiB,SAAUE,CAAQ,EAEnD,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,cAAc,SAAS,MAAM,MAAM,OACvD,GAAI,CAACC,EACH,OAAOC,EAAU,MAAO,6BAAyC,EAGnEC,IACAN,EAAK,iBAAiB,UAAY,GAClCC,EAAW,MAAQG,EAEnBH,EACG,WAAY,EACZ,KAAKM,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBF,EACE,MACA,0EAEF,EAEAZ,EAAgBc,EAAK,KAAMP,EAAK,gBAAgB,CAExD,CAAK,EACA,MAAMQ,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,EAC7BH,EACE,MACA,kEAEF,CACN,CAAK,EACA,QAAQ,IAAM,CACbI,IACAT,EAAK,WAAW,OACtB,CAAK,EAEHC,EAAW,MAAK,CAClB,CAEA,SAASI,EAAUK,EAAOC,EAAS,CACjCC,EAAS,KAAK,CACZ,MAAOF,EACP,QAASC,EACT,SAAU,UACd,CAAG,CACH,CAEA,SAASL,GAAa,CACpBN,EAAK,OAAO,MAAM,QAAU,OAC9B,CAEA,SAASS,GAAa,CACpBT,EAAK,OAAO,MAAM,QAAU,MAC9B"}